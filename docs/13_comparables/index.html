<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Comparables - Cal Poly CSC 203 Lecture notes</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Cal Poly CSC 203 Lecture notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="comparable"><a class="header" href="#comparable"><code>Comparable</code></a></h1>
<blockquote>
<p>The <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Comparable.html"><code>Comparable</code> interface</a> is used when we create a class and we want to define a "natural" ordering between any pair of objects created from that class.
In essence, its job is to let us define <code>&gt;</code>, <code>&lt;</code>, and <code>==</code> relationships for classes that we create.</p>
</blockquote>
<p>The <code>Comparable</code> interface contains a single abstract method that must be implemented by implementing subclasses:</p>
<p><code>int compareTo(T other)</code></p>
<p>It defines how <code>this</code> object compares to the <code>other</code> object.</p>
<p>Two things are worth discussing about the method signature.</p>
<ol>
<li><strong>The parameter <code>T other</code>:</strong> The <code>T</code> here is a placeholder type. The <code>Comparable</code> interface doesn't know what type of data is going to be compared, and doesn't care. In our <code>Album</code> class, the signature would be <code>int compareTo(Album other)</code>.</li>
<li><strong>The <code>int</code> return type.</strong> The comparison is not a binary decision: there are three possible outcomes (<code>&lt;</code>, <code>&gt;</code>, or <code>==</code>). So we cannot use a <code>boolean</code> as the return type.</li>
</ol>
<p>The "contract" for the <code>compareTo</code> function is:</p>
<ul>
<li>If <code>this</code> is "less than" <code>other</code>, i.e., it should come before <code>other</code> in a sorted list, return a negative number.</li>
<li>If <code>this</code> is "greater than" <code>other</code>, i.e., should come after <code>other</code> in a sorted list, return a positive number.</li>
<li>If <code>this</code> and <code>other</code> are equal, return <code>0</code>. In general, it's recommended that if <code>this.equals(other)</code> is <code>true</code>, then <code>this.compareTo(other)</code> should return <code>0</code>.</li>
</ul>
<p>Consider the code below.
We have an <code>Album</code> class that is declared to be <code>Comparable</code>.
We are saying <code>Album</code> objects are comparable to other <code>Album</code> objects.
This means the <code>Album</code> must define a <code>compareTo</code> method.</p>
<p>In the example below, we are saying that <code>Album</code> ordering is determined based on their <code>title</code>s.
Notice that we are not ourselves writing a lexicographic comparison of <code>this.title</code> and <code>other.title</code>: <code>title</code> is a <code>String</code>, which itself implements the <code>Comparable</code> interface.
We can use that.</p>
<pre><code class="language-java">public class Album implements Comparable&lt;Album&gt; {
  private final String title;
  private final String artist;
  private final int year;
  private double price;

  // ... Assume we have written a constructor, getters, setters etc.

  @Override
  public int compareTo(Album other) {
    return this.title.compareTo(other.title);
  }
}
</code></pre>
<h3 id="what-does-this-get-us"><a class="header" href="#what-does-this-get-us">What does this get us?</a></h3>
<p>Consider our <code>sort</code> function example from above.
If, instead of using <code>Album[]</code> as our parameter type, we used a <code>Comparable[]</code> as our parameter type, we can now use the same <code>sort</code> function for <em>any</em> data type, as long as that data type implements the <code>Comparable</code> interface.</p>
<p>See the <code>if</code> statement in the updated <code>sort</code> function below.</p>
<pre><code class="language-java">public static void sort(Comparable[] arr) {
  for (int i = 1; i &lt; arr.length; i++) {
    for (int j = i; j &gt; 0; j--) {
      if (arr[j].compareTo(arr[j - 1]) &lt; 0) { // If arr[j] is "less than" arr[j - 1]
        // Swap arr[j] and arr[j-1]
        Album temp = arr[j];
        arr[j] = arr[j - 1];
        arr[j - 1] = temp;
      } else {
        break;
      }
    }
  }
}
</code></pre>
<p>This is an example of using <em>abstraction</em> — we are ignoring or abstracting away the details of the specific object being sorted, and only focusing on the salient detail, i.e., the fact that it can be compared to other objects of its own type.
Because we can use <code>compareTo</code>, we don't need to know or care what specific type of object is stored in <code>arr</code>.</p>
<p>And this is exactly what is done in sort functions already available in the Java standard library.
The <code>Collections</code> class provides a number of helpful static functions; among them is <code>Collections.sort</code>.</p>
<p>If you have a list of objects, and those objects are <code>Comparable</code>, you can call <code>Collections.sort</code> on that list to sort it according to the object's "natural ordering", i.e., according to its <code>compareTo</code> method.</p>
<p>Note that <code>Collections.sort</code> sorts the list <em>in place</em>, meaning it mutates the underlying list, instead of returning a new sorted list.</p>
<pre><code class="language-java">List&lt;Album&gt; albums = Arrays.asList(
  new Album("Rubber Soul", "The Beatles", 1965, 18.99),
  new Album("1989 (Taylor's Version)", "Taylor Swift", 2023, 18.99),
  new Album("1989", "Taylor Swift", 2014, 18.99),
  new Album("Leaving Eden", "The Carolina Chocolate Drops", 2012, 18.99)
);

// If Album does not implement Comparable, this line won't compile.
Collections.sort(albums);

for (Album current : albums) {
  System.out.println(current);
}
</code></pre>
<p>The code above would print:</p>
<pre><code class="language-txt">1989
1989 (Taylor's Version)
Leaving Eden
Rubber Soul
</code></pre>
<blockquote>
<p><strong>PONDER</strong></p>
<p>Suppose you were asked to handle tie-breakers. E.g., for albums with the same title, break ties by artist name.
How would you handle this in the <code>compareTo</code> function?</p>
</blockquote>
<blockquote>
<p><strong>PONDER</strong></p>
<p>Can you change <code>Album</code>'s <code>compareTo</code> to induce a reversed ordering, i.e., in descending order?</p>
</blockquote>
<h2 id="comparator"><a class="header" href="#comparator"><code>Comparator</code></a></h2>
<p>The <code>ComparABLE</code> interface is used to define a "natural ordering" for an object.
What exactly does that mean?</p>
<p>You should use <code>Comparable</code> when there is an argument to made that there is an <em>obvious</em> way to compare two objects of a given type.
For example, the <code>String</code> class in Java implements the <code>Comparable</code> interface.
It defines what many would <em>naturally</em> expect when they compare two <code>String</code> objects, say, for the purpose of sorting.
It compares <code>String</code>s using their lexicographic ordering, i.e., their alphabetic order.</p>
<p>However, sometimes you need to order a collection of objects using something other than its natural order.
Or you need to order a collection of objects that cannot be reasonably considered to have a "natural" ordering for all circumstances.
These are cases in which you need to define, on an as-needed basis, a custom comparison between two objects.</p>
<p>That's where the <code>ComparATOR</code> interface comes in.
These two interfaces are annoyingly similarly named, I know.</p>
<h3 id="example"><a class="header" href="#example">Example</a></h3>
<p>So, for example, suppose we need to compare albums by their <code>price</code>, and not by their "natural" ordering based on <code>title</code>.</p>
<p>The <code>Comparator</code> interface defines one abstract method that must be implemented by subclasses:</p>
<pre><code class="language-java">public int compare(T o1, T o2)
</code></pre>
<p>This is very similar to the <code>compareTo</code> method for the <code>Comparable</code>. The only difference is now we take two parameters instead of one, because <em>both</em> items to be compared are being passed to the method.
That is, the "calling object" is not the one being compared, so <code>this</code> is not really relevant here.</p>
<p>To compare <code>Album</code>s by <code>price</code>, we would create a new class that implements the <code>Comparator</code> interface, and implement the required <code>compare</code> function in that class.</p>
<pre><code class="language-java">public class AlbumPriceComparator implements Comparator&lt;Album&gt; {
  public int compare(Album o1, Album o2) {
    if (o1.getPrice() &gt; o2.getPrice()) {
      return 1; // Can return any positive integer
    } else if (o1.getPrice() &lt; o2.getPrice()) {
      return -1; // Can return any negative integer
    } else {
      return 0;
    }
  }
}
</code></pre>
<p>This comparator object can then be used to impose "custom" orderings on <code>Album</code>s.</p>
<p><strong>How does this help us?</strong> The <code>Collections.sort</code> function has an overloaded version that takes two parameters:</p>
<ul>
<li>A collection of objects</li>
<li>A comparator to use for pairwise comparisons</li>
</ul>
<p>If you use this version of the <code>Collections.sort</code> function, you <em>don't</em> need the objects being sorted to be <code>ComparABLE</code>. This is because the second parameter, the <code>ComparATOR</code>, knows how to compare those objects.</p>
<pre><code class="language-java">List&lt;Album&gt; albums = ...; // Same list as before
Comparator&lt;Album&gt; priceComp = new AlbumPriceComparator();

// Sort the albums in ascending order of price
// Doesn't matter here whether or not Album implements Comparable
Collections.sort(albums, priceComp);
</code></pre>
<h2 id="in-the-next-lesson"><a class="header" href="#in-the-next-lesson">In the next lesson...</a></h2>
<p><strong>We can also dynamically create <code>Comparator</code>s on an as-needed basis.</strong>
Comparators are useful when you don't know upfront how a collection of objects is going to be compared or sorted.</p>
<p>Continuing with the Album example, consider your music library in whatever application you use to manage and listen to your music.
Chances are you've seen a "table view" that lists all the songs in your library, and you can click on the columns in that table to change how the songs are sorted.
E.g., if you click on "Title" the songs will be sorted by title. If you click on "Artist" the order will change. If you click again, it'll reverse it.</p>
<p>These are <em>dynamic</em> changes in the current sort order, i.e., they are happening while the program (the application, Spotify or whatever) is running.
Can we programmatically spin up new <code>Comparator</code>s to support these changes in desired sort orders?</p>
<p><strong>Doesn't this seem like a lot of work to just write one <code>compare</code> function?</strong>
All we really care about is that <code>compare</code> function, but because we need to "pass" the <code>compare</code> function to the <code>sort</code> function, we went through the rigmarole of wrapping it in a class and creating an object.</p>
<p>In the next lesson, we'll learn about using <em>lambdas</em> in Java to concisely create new <code>Comparator</code>s.
Lambdas allow us to treat functions as <em>values</em> that can be stored and passed around, e.g., as parameters to other functions.
We'll use that as a springboard to learn about lambdas and functional programming more generally.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../13_comparable_comparator/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../14_comparators/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../13_comparable_comparator/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../14_comparators/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>



    </div>
    </body>
</html>
